<!DOCTYPE html>
<html>
<title>API Document</title>

<xmp theme="cerulean" style="display:none;">
#Identity API


## HTTPS://matrix.org:8448


Identity API


[**Contact the developer**](mailto:sablintolya@gmail.com)


**Version** r0.1.0-1-SNAPSHOT

[**Terms of Service**](http://www.github.com/kongchen/swagger-maven-plugin)

[**Apache 2.0**](http://www.apache.org/licenses/LICENSE-2.0.html)











# APIs


## /_matrix/identity/api/v1


### GET

<a id="v1Status">To discover that an Identity server is available at a specific URL, this endpoint can be queried and will return an empty object.</a>

This is primarly used for auto-discovery and health check purposes by entities acting as a client for the Identity server.







#### Request



##### Parameters






#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | An identity server is ready to serve requests. | <a href="#/definitions/EmptyResponse">EmptyResponse</a>|


















## /_matrix/identity/api/v1/3pid/getValidated3pid


### GET

<a id="validate">Determines if a given 3pid has been validated by a user.</a>









#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>sid</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The Session ID generated by the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>client_secret</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The client secret passed to the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Validation information for the session. | <a href="#/definitions/ValidationResponse">ValidationResponse</a>|
| 400    | he session has not been validated. If the session has not been validated, then errcode will be M_SESSION_NOT_VALIDATED. If the session has timed out, then errcode will be M_SESSION_EXPIRED. |  - |
| 404    | The Session ID or client secret were not found. |  - |


















## /_matrix/identity/api/v1/bind






### POST

-deprecated-
<a id="publishDeprecated">Publish an association between a session and a Matrix user ID.</a>

Future calls to /lookup for any of the session&#x27;s 3pids will return this association.







#### Request


**Content-Type: ** application/x-www-form-urlencoded

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>sid</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The Session ID generated by the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>client_secret</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The client secret passed to the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>mxid</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The Matrix user ID to associate with the 3pids.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | The association was published. | <a href="#/definitions/PublishResponse">PublishResponse</a>|
| 400    | The association was not published. If the session has not been validated, then errcode will be M_SESSION_NOT_VALIDATED. If the session has timed out, then errcode will be M_SESSION_EXPIRED. |  - |
| 404    | he Session ID or client secret were not found. |  - |















## /_matrix/identity/api/v1/bulk_lookup






### POST


<a id="bulkLookup">Lookup Matrix user IDs for a list of 3pids.</a>









#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>body</th>
        <td>body</td>
        <td>yes</td>
        <td>
            An array of arrays containing the 3PID Types with the medium in first position and the address in second position.
            
        </td>
        <td> - </td>
        
            <td>
                
                <a href="#/definitions/BulkLookupRequest">BulkLookupRequest</a> 
            </td>
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | A list of known 3PID mappings for the supplied 3PIDs. | <a href="#/definitions/BulkLookupResponse">BulkLookupResponse</a>|















## /_matrix/identity/api/v1/lookup


### GET

<a id="lookup">Look up the Matrix user ID for a 3pid.</a>









#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>medium</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The medium type of the 3pid. See the 3PID Types Appendix.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>address</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The address of the 3pid being looked up. See the 3PID Types Appendix.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | The association for that 3pid, or an empty object if no association is known. | <a href="#/definitions/LookupResponse">LookupResponse</a>|


















## /_matrix/identity/api/v1/pubkey/ephemeral/isvalid


### GET

<a id="ephemeralValid">Check whether a short-term public key is valid.</a>









#### Request



##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>public_key</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The unpadded base64-encoded public key to check.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | The validity of the public key. | <a href="#/definitions/KeyValidationResponse">KeyValidationResponse</a>|


















## /_matrix/identity/api/v1/pubkey/isvalid


### GET

<a id="valid">Check whether a long-term public key is valid.</a>

The response should always be the same, provided the key exists.







#### Request



##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>public_key</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The unpadded base64-encoded public key to check.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | The validity of the public key. | <a href="#/definitions/KeyValidationResponse">KeyValidationResponse</a>|


















## /_matrix/identity/api/v1/pubkey/{keyId}


### GET

<a id="get">Get the public key for the passed key ID.</a>









#### Request



##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>keyId</th>
        <td>path</td>
        <td>yes</td>
        <td>
            The ID of the key. This should take the form algorithm:identifier where algorithm identifies the signing algorithm, and the identifier is an opaque string.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | The public key exists. | <a href="#/definitions/PublicKeyResponse">PublicKeyResponse</a>|
| 404    | The public key was not found. |  - |


















## /_matrix/identity/api/v1/sign-ed25519






### POST


<a id="sign">Sign invitation details.</a>

The identity server will look up token which was stored in a call to store-invite, and fetch the sender of the invite.







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>body</th>
        <td>body</td>
        <td>yes</td>
        <td>
            JSON body request.
            
        </td>
        <td> - </td>
        
            <td>
                
                <a href="#/definitions/SigningRequest">SigningRequest</a> 
            </td>
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | The signed JSON of the mxid, sender, and token. | <a href="#/definitions/SigningResponse">SigningResponse</a>|
| 404    | The token was not found. |  - |















## /_matrix/identity/api/v1/store-invite






### POST


<a id="invite">Store pending invitations to a user&#x27;s 3pid.</a>

In addition to the request parameters specified below, an arbitrary number of other parameters may also be specified. These may be used in the invite message generation described below. The service will generate a random token and an ephemeral key used for accepting the invite. The service also generates a display_name for the inviter, which is a redacted version of address which does not leak the full contents of the address. The service records persistently all of the above information. It also generates an email containing all of this data, sent to the address parameter, notifying them of the invitation. Also, the generated ephemeral public key will be listed as valid on requests to /_matrix/identity/api/v1/pubkey/ephemeral/isvalid. Currently, invites may only be issued for 3pids of the email medium.







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>body</th>
        <td>body</td>
        <td>no</td>
        <td>
            JSON body request
            
        </td>
        <td> - </td>
        
            <td>
                
                <a href="#/definitions/InvitationRequest">InvitationRequest</a> 
            </td>
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | The invitation was stored. | <a href="#/definitions/InvitationResponse">InvitationResponse</a>|
| 400    | An error has occured. If the 3pid is already bound to a Matrix user ID, the error code will be M_THREEPID_IN_USE. If the medium is unsupported, the error code will be M_UNRECOGNIZED. |  - |















## /_matrix/identity/api/v1/validate/email/requestToken






### POST

-deprecated-
<a id="createEmailSessionDeprecated">Create a session for validating an email address.</a>

The identity server will send an email containing a token. If that token is presented to the identity server in the future, it indicates that that user was able to read the email for that email address, and so we validate ownership of the email address.
Note that homeservers offer APIs that proxy this API, adding additional behaviour on top, for example,/register/email/requestToken is designed specifically for use when registering an account and therefore will inform the user if the email address given is already registered on the server.







#### Request


**Content-Type: ** application/x-www-form-urlencoded

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>client_secret</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            A unique string generated by the client, and used to identify the validation attempt. It must be a string consisting of the characters [0-9a-zA-Z.=_-]. Its length must not exceed 255 characters and it must not be empty.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>email</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The email address to validate.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>send_attempt</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The server will only send an email if the send_attempt is a number greater than the most recent one which it has seen, scoped to that email + client_secret pair. This is to avoid repeatedly sending the same email in the case of request retries between the POSTing user and the identity server. The client should increment this value if they desire a new email (e.g. a reminder) to be sent.
            
        </td>
        <td> - </td>
        
            
                <td>integer (int64)</td>
            
        
    </tr>

    <tr>
        <th>next_link</th>
        <td>formData</td>
        <td>no</td>
        <td>
            When the validation is completed, the identity server will redirect the user to this URL.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Session created. | <a href="#/definitions/SessionResponse">SessionResponse</a>|
| 400    | An error ocurred. |  - |















## /_matrix/identity/api/v1/validate/email/submitToken


### GET

<a id="getValidateEmail">Validate ownership of an email address.</a>

If the three parameters are consistent with a set generated by a requestToken call, ownership of the email address is considered to have been validated. This does not publish any information publicly, or associate the email address with any Matrix user ID. Specifically, calls to /lookup will not show a binding.
The identity server is free to match the token case-insensitively, or carry out other mapping operations such as unicode normalisation. Whether to do so is an implementation detail for the identity server. Clients must always pass on the token without modification.







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>sid</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The session ID, generated by the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>client_secret</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The client secret that was supplied to the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>token</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The token generated by the requestToken call and emailed to the user.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Email address is validated. | <a href="#/definitions/EmptyResponse">EmptyResponse</a>|
| 302    | Email address is validated, and the next_link parameter was provided to the requestToken call. The user must be redirected to the URL provided by the next_link parameter. |  - |
| 400    | Validation failed. |  - |







### POST

-deprecated-
<a id="postValidateEmailDeprecated">Validate ownership of an email address.</a>

If the three parameters are consistent with a set generated by a requestToken call, ownership of the email address is considered to have been validated. This does not publish any information publicly, or associate the email address with any Matrix user ID. Specifically, calls to /lookup will not show a binding.
The identity server is free to match the token case-insensitively, or carry out other mapping operations such as unicode normalisation. Whether to do so is an implementation detail for the identity server. Clients must always pass on the token without modification.







#### Request


**Content-Type: ** application/x-www-form-urlencoded

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>sid</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The session ID, generated by the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>client_secret</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The client secret that was supplied to the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>token</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The token generated by the requestToken call and emailed to the user.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | The success of the validation. | <a href="#/definitions/ValidationResponse">ValidationResponse</a>|















## /_matrix/identity/api/v1/validate/msisdn/requestToken






### POST

-deprecated-
<a id="createPhoneSessionDeprecated">Create a session for validating a phone number.</a>

The identity server will send an SMS message containing a token. If that token is presented to the identity server in the future, it indicates that that user was able to read the SMS for that phone number, and so we validate ownership of the phone number.
Note that homeservers offer APIs that proxy this API, adding additional behaviour on top, for example, /register/msisdn/requestToken is designed specifically for use when registering an account and therefore will inform the user if the phone number given is already registered on the server.







#### Request


**Content-Type: ** application/x-www-form-urlencoded

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>client_secret</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            A unique string generated by the client, and used to identify the validation attempt. It must be a string consisting of the characters [0-9a-zA-Z.=_-]. Its length must not exceed 255 characters and it must not be empty.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>country</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The two-letter uppercase ISO country code that the number in phone_number should be parsed as if it were dialled from.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>phone_number</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The phone number to validate.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>send_attempt</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The server will only send an SMS if the send_attempt is a number greater than the most recent one which it has seen, scoped to that country + phone_number + client_secret triple. This is to avoid repeatedly sending the same SMS in the case of request retries between the POSTing user and the identity server. The client should increment this value if they desire a new SMS (e.g. a reminder) to be sent.
            
        </td>
        <td> - </td>
        
            
                <td>integer (int64)</td>
            
        
    </tr>

    <tr>
        <th>next_link</th>
        <td>formData</td>
        <td>no</td>
        <td>
            When the validation is completed, the identity server will redirect the user to this URL.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Session created. | <a href="#/definitions/SessionResponse">SessionResponse</a>|
| 400    | An error occured. |  - |















## /_matrix/identity/api/v1/validate/msisdn/submitToken


### GET

<a id="getValidatePhone">Validate ownership of an email address.</a>

If the three parameters are consistent with a set generated by a requestToken call, ownership of the email address is considered to have been validated. This does not publish any information publicly, or associate the email address with any Matrix user ID. Specifically, calls to /lookup will not show a binding.
The identity server is free to match the token case-insensitively, or carry out other mapping operations such as unicode normalisation. Whether to do so is an implementation detail for the identity server. Clients must always pass on the token without modification.
 Note: for backwards compatibility with previous drafts of this specification, the parameters may also be specifiedas application/x-form-www-urlencoded data. However, this usage is deprecated.







#### Request


**Content-Type: ** application/json

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>sid</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The session ID, generated by the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>client_secret</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The client secret that was supplied to the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>token</th>
        <td>query</td>
        <td>yes</td>
        <td>
            The token generated by the requestToken call and sent to the user.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | Phone number is validated. | <a href="#/definitions/EmptyResponse">EmptyResponse</a>|
| 302    | Email address is validated, and the next_link parameter was provided to the requestToken call. The user must be redirected to the URL provided by the next_link parameter. |  - |
| 400    | Validation failed. |  - |







### POST

-deprecated-
<a id="postValidatePhoneDeprecated">Validate ownership of a phone number.</a>

If the three parameters are consistent with a set generated by a requestToken call, ownership of the email address is considered to have been validated. This does not publish any information publicly, or associate the email address with any Matrix user ID. Specifically, calls to /lookup will not show a binding.
The identity server is free to match the token case-insensitively, or carry out other mapping operations such as unicode normalisation. Whether to do so is an implementation detail for the identity server. Clients must always pass on the token without modification.







#### Request


**Content-Type: ** application/x-www-form-urlencoded

##### Parameters

<table border="1">
    <tr>
        <th>Name</th>
        <th>Located in</th>
        <th>Required</th>
        <th>Description</th>
        <th>Default</th>
        <th>Schema</th>
    </tr>



    <tr>
        <th>sid</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The session ID, generated by the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>client_secret</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The client secret that was supplied to the requestToken call.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>

    <tr>
        <th>token</th>
        <td>formData</td>
        <td>yes</td>
        <td>
            The token generated by the requestToken call and sent to the user.
            
        </td>
        <td> - </td>
        
            
                <td>string </td>
            
        
    </tr>


</table>



#### Response

**Content-Type: ** application/json


| Status Code | Reason      | Response Model |
|-------------|-------------|----------------|
| 200    | The success of the validation. | <a href="#/definitions/ValidationResponse">ValidationResponse</a>|
















# Definitions

## <a name="/definitions/BulkLookupRequest">BulkLookupRequest</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>threepids</td>
            <td>
                
                    
                    array[array]
                
            </td>
            <td>required</td>
            <td>An array of arrays containing the 3PID Types with the medium in first position and the address in second position.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/BulkLookupResponse">BulkLookupResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>threepids</td>
            <td>
                
                    
                    array[array]
                
            </td>
            <td>required</td>
            <td>An array of array containing the 3PID Types with the medium in first position, the address in second position and Matrix user ID in third position.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/EmailRequestToken">EmailRequestToken</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>email</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The email address to validate.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>client_secret</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>A unique string generated by the client, and used to identify the validation attempt. It must be a string consisting of the characters [0-9a-zA-Z.=_-]. Its length must not exceed 255 characters and it must not be empty.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>send_attempt</td>
            <td>
                
                    
                    integer (int64)
                
            </td>
            <td>required</td>
            <td>The server will only send an email if the send_attempt is a number greater than the most recent one which it has seen, scoped to that email + client_secret pair. This is to avoid repeatedly sending the same email in the case of request retries between the POSTing user and the identity server.The client should increment this value if they desire a new email(e.g.a reminder) to be sent.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>next_link</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>When the validation is completed, the identity server will redirect the user to this URL.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/EmptyResponse">EmptyResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
</table>

## <a name="/definitions/InvitationRequest">InvitationRequest</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>medium</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The literal string email</td>
            <td></td>
        </tr>
    
        <tr>
            <td>address</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The email address of the invited user.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>roomId</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The Matrix room ID to which the user is invited.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>sender</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The Matrix user ID of the inviting user.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/InvitationResponse">InvitationResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>token</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The generated token. Must be a string consisting of the characters [0-9a-zA-Z.=_-]. Its length must not exceed 255 characters and it must not be empty.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>public_keys</td>
            <td>
                
                    
                    array[string]
                
            </td>
            <td>required</td>
            <td>A list of [server's long-term public key, generated ephemeral public key].</td>
            <td></td>
        </tr>
    
        <tr>
            <td>display_name</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The generated (redacted) display_name.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/KeyValidationResponse">KeyValidationResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>valid</td>
            <td>
                
                    
                    boolean
                
            </td>
            <td>required</td>
            <td>Whether the public key is recognised and is currently valid.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/LookupResponse">LookupResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>address</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The 3pid address of the user being looked up, matching the address requested.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>medium</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>A medium from the 3PID Types Appendix, matching the medium requested.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>mxid</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The Matrix user ID associated with the 3pid.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>ts</td>
            <td>
                
                    
                    integer (int64)
                
            </td>
            <td>required</td>
            <td>The unix timestamp at which the association was verified.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>signatures</td>
            <td>
                
                    
                    object
                
            </td>
            <td>required</td>
            <td>The signatures of the verifying identity services which show that the association should be trusted, if you trust the verifying identity services.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>not_before</td>
            <td>
                
                    
                    integer (int64)
                
            </td>
            <td>required</td>
            <td>A unix timestamp before which the association is not known to be valid.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>not_after</td>
            <td>
                
                    
                    integer (int64)
                
            </td>
            <td>required</td>
            <td>A unix timestamp after which the association is not known to be valid.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/PhoneRequestToken">PhoneRequestToken</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>country</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The two-letter uppercase ISO country code that the number in phone_number should be parsed as if it were dialled from.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>client_secret</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>A unique string generated by the client, and used to identify the validation attempt. It must be a string consisting of the characters [0-9a-zA-Z.=_-]. Its length must not exceed 255 characters and it must not be empty.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>phone_number</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The phone number to validate.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>send_attempt</td>
            <td>
                
                    
                    integer (int64)
                
            </td>
            <td>required</td>
            <td>The server will only send an email if the send_attempt is a number greater than the most recent one which it has seen, scoped to that email + client_secret pair. This is to avoid repeatedly sending the same email in the case of request retries between the POSTing user and the identity server.The client should increment this value if they desire a new email(e.g.a reminder) to be sent.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>next_link</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>When the validation is completed, the identity server will redirect the user to this URL.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/PublicKeyResponse">PublicKeyResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>public_key</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>Unpadded Base64 encoded public key.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/PublishRequest">PublishRequest</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>sid</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The Session ID generated by the requestToken call.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>mxid</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The Matrix user ID to associate with the 3pids.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>client_secret</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The client secret passed to the requestToken call.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/PublishResponse">PublishResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>address</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The 3pid address of the user being looked up.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>medium</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The medium type of the 3pid.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>mxid</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The Matrix user ID associated with the 3pid.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>ts</td>
            <td>
                
                    
                    integer (int64)
                
            </td>
            <td>required</td>
            <td>The unix timestamp at which the association was verified.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>signatures</td>
            <td>
                
                    
                    object
                
            </td>
            <td>required</td>
            <td>The signatures of the verifying identity servers which show that the association should be trusted, if you trust the verifying identity services.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>not_before</td>
            <td>
                
                    
                    integer (int64)
                
            </td>
            <td>required</td>
            <td>A unix timestamp before which the association is not known to be valid.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>not_after</td>
            <td>
                
                    
                    integer (int64)
                
            </td>
            <td>required</td>
            <td>A unix timestamp after which the association is not known to be valid.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/SessionResponse">SessionResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>sid</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The session ID. Session IDs are opaque strings generated by the identity server. They must consist entirely of the characters [0-9a-zA-Z.=_-]. Their length must not exceed 255 characters and they must not be empty.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/SigningRequest">SigningRequest</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>mxid</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The Matrix user ID of the user accepting the invitation.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>token</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The token from the call to store-invite.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>private_key</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The private key, encoded as Unpadded base64.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/SigningResponse">SigningResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>mxid</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The Matrix user ID of the user accepting the invitation.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>sender</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The Matrix user ID of the user who sent the invitation.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>signatures</td>
            <td>
                
                    
                    object
                
            </td>
            <td>required</td>
            <td>The signature of the mxid, sender, and token.</td>
            <td></td>
        </tr>
    
        <tr>
            <td>token</td>
            <td>
                
                    
                    string
                
            </td>
            <td>required</td>
            <td>The token for the invitation.</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/SubmitToken">SubmitToken</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>sid</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>token</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
        <tr>
            <td>client_secret</td>
            <td>
                
                    
                    string
                
            </td>
            <td>optional</td>
            <td>-</td>
            <td></td>
        </tr>
    
</table>

## <a name="/definitions/ValidationResponse">ValidationResponse</a>

<table border="1">
    <tr>
        <th>name</th>
        <th>type</th>
        <th>required</th>
        <th>description</th>
        <th>example</th>
    </tr>
    
        <tr>
            <td>validated</td>
            <td>
                
                    
                    boolean
                
            </td>
            <td>required</td>
            <td>Whether the validation was successful or not.</td>
            <td></td>
        </tr>
    
</table>


</xmp>

<script src="https://ma1uta.github.io/v/0.2/strapdown.js"></script>
</html>
